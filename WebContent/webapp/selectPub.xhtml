<?xml version="1.0" encoding="ISO-8859-1" ?>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:c="http://java.sun.com/jsp/jstl/core">
      
    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
        <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css"/>
        <title>Select Pub</title>
        <style>

            .scritta{

                font-family:  Arial, Helvetica, sans-serif;
                font-size: x-large;
                color: cadetblue;
            }

            .scrittaPub{

                font-family:  Arial, Helvetica, sans-serif;
                font-size: x-large;
                color: gray;
                padding-left: 10%;
            }

            .riquadro{

                width: 280px;
                height: 130px;
                display: block;
                margin-left: 15%;
                margin-bottom: 10%;
                border: 5px solid cadetblue;
                padding: 15px;
                border-radius: 40px;
                box-shadow: 3px 3px #bbb;
                background-color: white;

            }

            .pulsanteInfo{
                position: relative;
                top: 18%;
                padding-left: 5%;
                margin-left: 5%;
                display: inline;
            }

            #benvenuto{
                position: absolute;
                top: 4%;
                left: 2%;
            }   

            #tabella{
                position: absolute;
                top: 11%;
                left: 2%;
                width: 400px;
                height: 77%;
                overflow: auto;
            }

            .pulsantiera{
                position: relative;
                display: inline-flex;
                top: 10px;
                left: 20px;
            }

            .divScritta{
                position: relative;
            }

            .dot {
                height: 20px;
                width: 20px;
                background-color: cadetblue;
                border-radius: 50%;
                display: inline-block;
            }

            .sfondo{
                z-index: -1;
            }
            
            #logo{
                position: absolute;
                top: 80px;
                left: 10%;
                width: 100%;
            }

        </style>
    </h:head>
    <h:body>
        <f:view>
            <h:form>
                <div id="logo">
                    <h:graphicImage class="sfondo" value="images/jumpQueueLogo.png" width="80%"/>
                </div>
                <div id="benvenuto">

                    <h:outputLabel class="scritta" value="Welcome #{userSessionBean.user.username}, Select the Pub"/>
                </div>
                <div id="tabella">
                    <c:if test="#{selectPubController.isClient}">
                
                    <ui:repeat value="#{selectPubController.pubList}" var="pub" varStatus="status">
                        <div class="riquadro">
                            <div class="divScritta">
                                <span class="dot"/>
                                <h:outputLabel class="scrittaPub" value="#{pub.nome}"/>
                            </div>
                            <div class="pulsantiera">
                                <div class="pulsanteInfo">
                                    <h:commandButton class="w3-button w3-teal w3-round-xxlarge" value="Select" action="#{selectPubController.select()}">
                                        <f:setPropertyActionListener value="#{pub}" target="#{selectPubController.selectedPub}" />
                                    </h:commandButton>
                                </div>
                                <div class="pulsanteInfo">
                                    <h:commandButton class="w3-button w3-teal w3-round-xxlarge" value="Detail" action="#{selectPubController.showInfo()}">
                                        <f:setPropertyActionListener value="#{pub}" target="#{selectPubController.selectedPub}" />
                                    </h:commandButton>
                                </div>
                            </div>    
                        </div>
                    </ui:repeat>
                    </c:if> 
                    
                    <c:if test="#{selectPubController.isOperatore}">
                
                        <div class="riquadro">
                            <div class="divScritta">
                                <span class="dot"/>
                                <h:outputLabel class="scrittaPub" value="#{selectPubController.operatorPub.nome}"/>
                            </div>
                            <div class="pulsantiera">
                                <div class="pulsanteInfo">
                                    <h:commandButton class="w3-button w3-teal w3-round-xxlarge" value="Modifica Menù" action="#{selectPubController.select()}">
                                        <f:setPropertyActionListener value="#{selectPubController.operatorPub}" target="#{selectPubController.selectedPub}" />
                                    </h:commandButton>
                                </div>
                                <div class="pulsanteInfo">
                                    <h:commandButton class="w3-button w3-teal w3-round-xxlarge" value="Vai agli ordini" action="#{selectPubController.goToOrders}">
                                        <f:setPropertyActionListener value="#{selectPubController.operatorPub}" target="#{selectPubController.selectedPub}" />
                                    </h:commandButton>
                                </div>
                            </div>  
                           
                        </div>
                    </c:if>     
                </div>
            </h:form>
        </f:view>
    </h:body>
</html>
